env = Environment()

debug = ARGUMENTS.get('DEBUG', '1')
cflags = ARGUMENTS.get('CFLAGS', '')
oss_include_dir = ARGUMENTS.get('OSS_INCLUDE_DIR', '/usr/local/lib/oss/include')

if debug == '1':
    cflags += '-g '
cflags += '-Iinclude -I' + oss_include_dir + ' '

sources = ['list.c', 'color.c',
           'group.c', 'extension.c', 'mixer.c',
           'libmix.c']
libmix = env.SharedLibrary(target = 'mix', source = sources,
                           CFLAGS = cflags)
